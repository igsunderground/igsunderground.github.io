<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #000; color: whitesmoke;}
        header { background: #000000; color: white; padding: 10px; text-align: center; }
        main { display: flex; flex-wrap: wrap; justify-content: center; padding: 20px; }
        .search-container { text-align: center; margin: 20px; }
        .search-bar { padding: 10px; width: 80%; max-width: 400px; border: 1px solid #ccc; border-radius: 5px; }
        .category { width: 100%; max-width: 1200px; margin-bottom: 20px; }
        .category h2 { background: #151515; color: white; padding: 10px; }
        .items { display: flex; flex-wrap: wrap; gap: 15px; }
        .item { background: #232323; padding: 10px; text-align: center; border-radius: 5px; cursor: pointer; }
        .item img { width: 100px; height: 100px; object-fit: cover; }
        img {
            max-width: 90vw;
            width: 500px;
        }
        p {
            margin: 0   ;
        }
    </style>
</head>
<body>
    <header>
        <img src="UNDERGROUND_FINAL.png" alt="">
    </header>
    <div class="search-container">
        <input type="text" id="search" class="search-bar" placeholder="Suche nach Artikeln...">
    </div>
    <main id="shop"></main>
    <script>
document.addEventListener("DOMContentLoaded", () => {
    fetch("products.json")
        .then(response => response.json())
        .then(data => {
            const shop = document.getElementById("shop");
            const searchInput = document.getElementById("search");

            function renderItems(filter = "") {
                shop.innerHTML = "";
                Object.keys(data).forEach(category => {
                    const categoryDiv = document.createElement("div");
                    categoryDiv.className = "category";
                    categoryDiv.innerHTML = `<h2>${category}</h2>`;
                    const itemsDiv = document.createElement("div");
                    itemsDiv.className = "items";

                    data[category].forEach(item => {
                        if (item.title.toLowerCase().includes(filter.toLowerCase())) {
                            const itemDiv = document.createElement("div");
                            itemDiv.className = "item";
                            itemDiv.innerHTML = `
                                <img src="${item.image}" alt="${item.title}">
                                <p>${item.title}</p>
                                <p>Preis: <strong>${item.price}</strong></p>
                                <p>Lieferzeit: ${item.shipping}</p>
                                <p>Verf√ºgbarkeit: ${item.av}</p>

                            `;
                            itemDiv.addEventListener("click", () => {
                                window.location.href = "buy.html";
                            });
                            itemsDiv.appendChild(itemDiv);
                        }
                    });

                    if (itemsDiv.childElementCount > 0) {
                        categoryDiv.appendChild(itemsDiv);
                        shop.appendChild(categoryDiv);
                    }
                });
            }

            searchInput.addEventListener("input", () => {
                renderItems(searchInput.value);
            });

            renderItems();
        })
        .catch(error => console.error("Fehler beim Laden der Produkte:", error));
});

    </script>
</body>
</html>